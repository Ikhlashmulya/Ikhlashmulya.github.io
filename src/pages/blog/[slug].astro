---
import type { GetStaticPaths, MDXInstance } from "astro";
import type { Frontmatter } from "../../types/frontmatter";
import "../../style/markdown.css";
import BaseLayout from "../../layout/baseLayout.astro";

export const getStaticPaths = (async () => {
  const posts = (await Astro.glob<Frontmatter>(
    "../../content/posts/**/*.md"
  )) as MDXInstance<Frontmatter>[];

  return posts.map((post) => ({
    params: {
      slug: post.frontmatter.slug,
    },
    props: {
      post,
    },
  }));
}) satisfies GetStaticPaths;

const { Content, frontmatter } = Astro.props.post;
---

<BaseLayout title={"Blog | " + frontmatter.title}>
  <h1 class="text-2xl font-bold mt-5 mb-3">{frontmatter.title}</h1>
  <div class="markdown text-justify">
    <Content />
  </div>
</BaseLayout>
